import { d as documentFunction, U as Util, _ as __vitePreload, s as sakura } from "../main.min.js";
import "../assets/_commonjsHelpers-7a7fcd32.js";
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __decorateClass = (decorators, target, key, kind) => {
  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;
  for (var i = decorators.length - 1, decorator; i >= 0; i--)
    if (decorator = decorators[i])
      result = (kind ? decorator(target, key, result) : decorator(result)) || result;
  if (kind && result)
    __defProp(target, key, result);
  return result;
};
class Categories {
  registerCategories() {
    const categoryChips = document.querySelectorAll(".categories-container .chip");
    categoryChips.forEach((chip) => {
      if (!chip.style.backgroundColor) {
        chip.style.backgroundColor = Util.generateColor();
      }
    });
  }
  async registerCategoryRadarChart() {
    const echartElement = document.getElementById("category-echarts");
    if (!echartElement) {
      return;
    }
    const echarts = await __vitePreload(() => import("../assets/core-55e46693.js"), true ? [] : void 0);
    await __vitePreload(() => import("../assets/charts-9b126745.js"), true ? [] : void 0).then((module) => {
      echarts.use([module.RadarChart]);
    });
    await __vitePreload(() => import("../assets/components-184f0ea1.js"), true ? [] : void 0).then((module) => {
      echarts.use([
        module.TitleComponent,
        module.TooltipComponent
      ]);
    });
    await __vitePreload(() => import("../assets/renderers-937e32c4.js"), true ? [] : void 0).then((module) => {
      echarts.use([module.CanvasRenderer]);
    });
    const values = Object.values(categoryRadar);
    const keys = Object.keys(categoryRadar);
    if (keys.length < 3) {
      return;
    }
    const maxNum = Math.ceil(values.reduce((prev, current) => prev > current ? prev : current) / 5) * 5;
    const categoryChart = echarts.init(echartElement);
    const color = document.querySelectorAll(".dark").length > 0 ? "#ccc" : "black";
    categoryChart.setOption({
      title: {
        text: sakura.translate("page.categories.radar_title", "文章分类雷达图"),
        left: "center",
        top: "25px",
        textStyle: {
          fontSize: 22,
          fontWeight: "normal",
          color
        }
      },
      tooltip: {
        trigger: "item",
        textStyle: {
          align: "left"
        }
      },
      radar: [
        {
          indicator: function() {
            var indicators = [];
            for (var i = 0; i < keys.length; i++) {
              indicators.push({ text: keys[i], max: maxNum });
            }
            return indicators;
          }(),
          name: {
            textStyle: {
              color
            }
          },
          center: ["50%", "60%"],
          radius: "60%"
        }
      ],
      series: [
        {
          type: "radar",
          itemStyle: {
            color: "rgb(123,234,185)"
          },
          lineStyle: {
            color: "rgb(123,234,185)"
          },
          areaStyle: {
            color: "rgb(123,234,185)"
          },
          data: [
            {
              value: values,
              name: sakura.translate("page.categories.radar_series_title", "文章分类数量")
            }
          ]
        }
      ]
    });
  }
}
__decorateClass([
  documentFunction()
], Categories.prototype, "registerCategories", 1);
__decorateClass([
  documentFunction()
], Categories.prototype, "registerCategoryRadarChart", 1);
